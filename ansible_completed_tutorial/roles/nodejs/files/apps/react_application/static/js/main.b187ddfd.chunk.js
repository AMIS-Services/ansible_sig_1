(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{213:function(e,t,n){e.exports=n(348)},224:function(e,t,n){},348:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(24),o=n.n(i),s=n(55),c=n(28),l=n(128),m=n(129),u=n(85),p=n(11),d=n.n(p),h=n(23),g=n(52),f=function(e){if(e.ok)return e.json();console.error("ERROR ".concat(e.status,": ").concat(e.statusText))},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="http://localhost:3030/".concat(e),a=Object(g.a)({headers:{"Content-Type":"application/json",Accept:"application/json"}},t),r=window.localStorage.getItem("jwt");return t&&t.body&&(a.body=JSON.stringify(t.body)),r&&(a.headers.Authorization="Bearer ".concat(r)),window.fetch(n,a).then(f).catch(function(e){return console.error("Network error: ".concat(e))})},v=Object(c.combineReducers)({accommodations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"REQUEST_ACCOMMODATIONS":return e;case"RECEIVED_ACCOMMODATIONS":return Object(u.a)(t.payload);case"CREATING_ACCOMMODATION":return e;case"CREATED_ACCOMMODATION":return[].concat(Object(u.a)(e),[t.payload]);case"ERROR_ACCOMMODATION":default:return e}}}),w=(n(224),n(18)),j=n(19),O=n(21),E=n(20),k=n(22),y=n(350),C=n(130),x=n.n(C),A=n(351),S=n(349),N=function(){var e=Object(h.a)(d.a.mark(function e(t,n){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("auth",{method:"POST",body:{email:t,password:n}}).then(function(){var e=Object(h.a)(d.a.mark(function e(t){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return window.localStorage.setItem("jwt",t.jwt),n=z(t.jwt),e.next=5,b("users/".concat(n)).then(function(e){return e});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),I=function(){window.localStorage.removeItem("jwt")},D=function(){var e=Object(h.a)(d.a.mark(function e(){var t,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.getItem("jwt");case 2:if(!(t=e.sent)){e.next=8;break}return n=z(t),e.next=7,b("users/".concat(n)).then(function(e){return e});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),z=function(e){var t=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(t)).id},T=n(352),M=n(17),R=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={isLoginDialogOpen:!1},n.goHome=function(){n.props.history.push("/")},n.toggleDialog=function(){n.setState(function(e){return{isLoginDialogOpen:!e.isLoginDialogOpen}})},n}return Object(k.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return a.createElement("div",{className:this.props.classes.root},a.createElement("div",{className:this.props.classes.title,onClick:this.goHome},this.props.title))}}]),t}(a.PureComponent),_=Object(M.withStyles)({root:{display:"flex",alignItems:"center",width:"100%",backgroundColor:"red",overflow:"auto"},title:{color:"white",fontSize:32,fontWeight:"bold",cursor:"pointer",margin:"16px auto 16px 32px"},userMenu:{marginRight:32,cursor:"pointer",color:"white"},pointer:{cursor:"pointer"},link:{textDecoration:"none",color:"white",marginRight:16},linkContainer:{display:"flex","& div:nth-child(2n)":{marginLeft:16}}})(Object(T.a)(R)),U=n(8),V=n(56),B=n(26),F=n.n(B);function H(e){return a.createElement(F.a,e,a.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}))}var W=a.createContext(),L=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state=Object(g.a)({},n.props.accommodation),n.toggleFavorite=Object(h.a)(d.a.mark(function e(){var t,a,r,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.context.user,t._id,t.createdAt,t.updatedAt,a=Object(V.a)(t,["_id","createdAt","updatedAt"]),-1===(r=a.favoriteAccommodations.indexOf(n.state._id))?a.favoriteAccommodations.push(n.state._id):a.favoriteAccommodations.splice(r,1),e.next=5,b("users/".concat(n.context.user._id),{method:"PUT",body:a});case 5:i=e.sent,n.context.updateUser(i);case 7:case"end":return e.stop()}},e,this)})),n.goToDetail=function(){n.props.history.push("accommodation/"+n.state.id)},n}return Object(k.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.image,r=t.name,i=t.location,o=t._id,s=t.description;return a.createElement(U.d,{item:!0,xs:12,sm:4,lg:3},a.createElement(U.b,{className:this.props.classes.root},a.createElement("header",{onClick:this.goToDetail},a.createElement("img",{className:this.props.classes.thumbnail,src:n,alt:"img of accommodation"})),a.createElement("main",null,a.createElement("h2",null,r),a.createElement("div",{className:"sub-header"},i),a.createElement("p",null,s)),a.createElement(W.Consumer,null,function(t){return t.user?a.createElement("footer",null,a.createElement(H,{onClick:e.toggleFavorite,className:t.user.favoriteAccommodations.includes(o)?e.props.classes.houseIconFavorite:e.props.classes.houseIcon})):null})))}}]),t}(a.Component);L.contextType=W;var P=Object(M.withStyles)({root:{height:"100%",padding:8,display:"flex",flexDirection:"column",margin:20,"& main":{width:NaN},"& h2":{margin:8},"& p":{fontSize:16},"& footer":{marginTop:"auto",alignSelf:"flex-end"}},thumbnail:{width:"100%",cursor:"pointer"},subHeader:{color:"grey",fontSize:14},houseIcon:{cursor:"pointer",fill:"lightgray"},houseIconFavorite:{cursor:"pointer",fill:"red"}})(Object(T.a)(L)),q=[{id:1,name:"Romantische vuurtoren",location:"Scheveningen",favorite:!1,images:["http://infomarken.com/wp-content/uploads/2016/03/tourPaard1.jpg","http://www.nieman.nl/wp-content/uploads/2017/08/Interieur-De-Vuurtoren-Kop-Noordereiland-Harderwijk.jpg","https://static.webshopapp.com/shops/186977/files/089588126/image.jpg"],image:"http://infomarken.com/wp-content/uploads/2016/03/tourPaard1.jpg",amenities:["stofzuiger","strijkijzer","WiFi","droger","verwarming","TV","wieg","airconditioning","verduisterende gordijnen","centrale verwarming","beddegoed","parkeerplek","feun","shampoo en conditioner","wasmachine","droger","zeep","tuin","schommel","EHBO kit"],description:"Een zeer romantische lokatie aan de zee. Verblijf in een authentieke vuurtoren en overzie vanaf grote hoogte de zee. Enkel voor gasten met een goede conditie."},{id:2,name:"Bezemkast in Amsterdam",location:"Amsterdam",favorite:!1,images:["https://i.pinimg.com/originals/db/2b/20/db2b207c1bb61e5b7d1bafe1c81455ff.jpg","https://ronafischman.com/wp-content/uploads/2015/10/Understairs.bedroom.jpg"],image:"https://i.pinimg.com/originals/db/2b/20/db2b207c1bb61e5b7d1bafe1c81455ff.jpg",amenities:["WiFi","verwarming","beddegoed","zeep","EHBO kit"],description:"De beste woning die je in Amsterdam gaat vinden onder de 500 euro per nacht. Accepteer de realiteit van de woningnood en zie de positieve kant in: het is erg knus."},{id:3,name:"Hutje op de hei",location:"De Veluwe",favorite:!1,images:["https://i.pinimg.com/originals/b6/e8/12/b6e812e996f90dc575acb6207235adf5.jpg","https://roomed.nl/wp-content/uploads/2017/06/roomed-amsterdamse-loft4.jpg","https://cdn.shopify.com/s/files/1/2954/9184/files/slow-cabins-interieur5_2048x2048.jpg?v=1520013611"],image:"https://i.pinimg.com/originals/b6/e8/12/b6e812e996f90dc575acb6207235adf5.jpg",amenities:["stofzuiger","strijkijzer","verwarming","wieg","beddegoed","parkeerplek","kookgerei","fornuis","koffiezet apparaat","eetgerei","koelkast","feun","shampoo en conditioner","zeep","tuin","schommel","EHBO kit"],description:"Wat is nou een klassiekere Nederlands verblijfsplaats dan een hutje op de hei? Als je even weg wil van de drukte en belachelijkhe huizenprijzen van de stad is dit een perfecte locatie"},{id:4,name:"Vakantievilla Vacuna",location:"Domburg",favorite:!0,images:["http://www.zeelandrelais.com/files/DSC00204.jpg","https://static.ferienhausmiete.de/pictures/106343/bilder_original/106343_1462960274.jpg","https://static.ferienhausmiete.de/pictures/106343/bilder_original/106343_1340009402.jpg"],image:"http://www.zeelandrelais.com/files/DSC00204.jpg",amenities:["stofzuiger","WiFi","droger","verwarming","TV","wieg","centrale verwarming","beddegoed","parkeerplek","kookgerei","fornuis","koffiezet apparaat","eetgerei","magnetron/oven combinatie","koelkast","vaatwasser","feun","shampoo en conditioner","wasmachine","droger","zeep","tuin","EHBO kit"],description:"Een rustieke vakantievilla gelegen in Domburg aan de zeeuwse kust. Uitstekende beheersing van de Duitse taal is helaas wel een vereist voor communicatie in de omgeving."},{id:5,name:"Appartement voor twee personen",location:"Utrecht",favorite:!1,images:["http://www.interieur-inrichting.net/afbeeldingen/knus-scandinavisch-appartement-645x484.jpg"],image:"http://www.interieur-inrichting.net/afbeeldingen/knus-scandinavisch-appartement-645x484.jpg",amenities:["WiFi","droger","verwarming","TV","verduisterende gordijnen","centrale verwarming","beddegoed","kookgerei","fornuis","koffiezet apparaat","eetgerei","magnetron/oven combinatie","koelkast","vaatwasser"],description:"Een appartement voor twee personen in Utrecht. Ingericht in typische vtwonen stijl. Mooi op het plaatje maar in de realiteit veel te wit."}],G=function(e){function t(){return Object(w.a)(this,t),Object(O.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return a.createElement("div",{className:this.props.classes.root},a.createElement("main",null,a.createElement(U.d,{container:!0,spacing:24,className:this.props.classes.cardGrid},q.map(function(e,t){return a.createElement(P,{accommodation:e,key:t})}))))}}]),t}(a.Component),J=Object(M.withStyles)({cardGrid:{padding:8}})(G),K=n(36),Z=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",location:"",imgUrl:"",description:"",amenities:[]},n.handleChange=function(e){n.setState(Object(K.a)({},e.target.id,e.target.value))},n.handleChangeAmenities=function(e){n.setState({amenities:e.target.value})},n.submit=Object(h.a)(d.a.mark(function e(){var t,a,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state,a=t.imgUrl,(r=Object(V.a)(t,["imgUrl"])).images=[a],n.props.createAccommodation(r),n.props.history.push("/");case 4:case"end":return e.stop()}},e,this)})),n}return Object(k.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return a.createElement("div",{className:this.props.classes.root},"Accommodatie aanmaken",a.createElement(U.i,{id:"name",required:!0,label:"Naam",value:this.state.name,onChange:this.handleChange}),a.createElement(U.i,{id:"location",required:!0,label:"Locatie",value:this.state.location,onChange:this.handleChange}),a.createElement(U.i,{id:"imgUrl",required:!0,label:"Foto URL",value:this.state.imgUrl,onChange:this.handleChange}),a.createElement(U.i,{id:"description",required:!0,label:"Beschrijving",value:this.state.description,onChange:this.handleChange}),a.createElement(U.c,null,a.createElement(U.f,null,"Faciliteiten"),a.createElement(U.h,{multiple:!0,value:this.state.amenities,onChange:this.handleChangeAmenities,input:a.createElement(U.e,{id:"amenities"})},["Beddegoed","Centrale verwarming","Droger","EHBO Kit","Parkeerplek","Stofzuiger","Strijkijzer","TV","Verduisterende gordijnen","Verwarming","Wieg","WiFi","Zeep"].map(function(e){return a.createElement(U.g,{key:e,value:e},e)}))),a.createElement("div",{className:this.props.classes.buttons},a.createElement(U.a,{className:this.props.classes.submit,onClick:this.submit},"Aanmaken")))}}]),t}(a.Component),Q={createAccommodation:function(e){return t=Object(h.a)(d.a.mark(function t(n){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"CREATING_ACCOMMODATION"}),t.next=3,b("accommodations",{method:"POST",body:e});case 3:a=t.sent,n(a?{type:"CREATED_ACCOMMODATION",payload:a}:{type:"ERROR_ACCOMMODATION"});case 5:case"end":return t.stop()}},t,this)})),function(e){return t.apply(this,arguments)};var t}},X=Object(s.b)(function(e){return e},Q)(Object(M.withStyles)({root:{margin:32,display:"flex",flexDirection:"column"},buttons:{display:"flex",justifyContent:"flex-end",margin:32},submit:{backgroundColor:"red",color:"white"}})(Object(T.a)(Z))),Y=function(e){function t(){return Object(w.a)(this,t),Object(O.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return a.createElement("div",{className:this.props.classes.root},a.createElement("h1",null,"Oops!"),a.createElement("h1",null,"Page not found!"))}}]),t}(a.Component),$=Object(M.withStyles)({root:{display:"flex",flexDirection:"column",width:"100%",height:"70vh",alignItems:"center",justifyContent:"center","& h1":{width:"fit-content"}}})(Y);function ee(e){return a.createElement(F.a,e,a.createElement("path",{d:"M4,12a2,2,0,0,1,.72-1.54l12-10A2,2,0,0,1,20,2V22a2,2,0,0,1-3.28,1.54l-12-10A2,2,0,0,1,4,12Z"}))}function te(e){return a.createElement(F.a,e,a.createElement("path",{d:"M20,12a2,2,0,0,1-.72,1.54l-12,10A2,2,0,0,1,4,22V2A2,2,0,0,1,7.28.46l12,10A2,2,0,0,1,20,12Z"}))}var ne=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={accommodation:void 0,imageIndex:0},n.nextImage=function(){var e=n.state,t=e.imageIndex,a=t<e.accommodation.images.length-1?t+1:0;n.setState({imageIndex:a})},n.previousImage=function(){var e=n.state,t=e.imageIndex,a=e.accommodation,r=t>0?t-1:a.images.length-1;n.setState({imageIndex:r})},n.toggleAmenities=function(){},n}return Object(k.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t=q.find(function(t){return t.id===+e});void 0===t?this.props.history.replace("/404"):this.setState({accommodation:t})}},{key:"render",value:function(){var e=this;return this.state.accommodation?a.createElement("div",{className:this.props.classes.root},a.createElement("header",{className:this.props.classes.image},this.state.accommodation.images.length>1&&a.createElement("div",{className:this.props.classes.arrow,onClick:this.previousImage},a.createElement(ee,null)),a.createElement("img",{className:this.props.classes.imageCover,src:this.state.accommodation.images[this.state.imageIndex],alt:this.state.accommodation.name}),this.state.accommodation.images.length>1&&a.createElement("div",{className:this.props.classes.arrow,onClick:this.nextImage},a.createElement(te,null))),a.createElement("main",null,a.createElement("h2",null,this.state.accommodation.name),a.createElement("div",{className:this.props.classes.subHeader},this.state.accommodation.location),a.createElement("p",null,this.state.accommodation.description)),a.createElement("div",{className:this.props.classes.amenities},a.createElement(U.d,{container:!0,spacing:24},this.state.accommodation.amenities.map(function(t,n){return n<6&&a.createElement(U.d,{key:n,item:!0,xs:6,className:e.props.classes.amenity},a.createElement("span",null,t.replace(/^\w/,function(e){return e.toUpperCase()})))})),this.state.accommodation.amenities.length>6&&a.createElement(U.d,{item:!0,xs:12,className:this.props.classes.amenity},a.createElement("div",{onClick:this.toggleAmenities,className:this.props.classes.toggleAmenities},a.createElement("span",null,"....")))),a.createElement("footer",null)):null}}]),t}(a.Component),ae=Object(M.withStyles)({root:{height:"10%",display:"flex",flexDirection:"column",alignItems:"center","& main":{width:"100%"},"& h2":{marginLeft:100},"& p":{fontSize:16,marginLeft:100},"& footer":{marginTop:"auto",alignSelf:"flex-end"}},image:{height:700,width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},arrow:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:24,color:"#c9c9c9",backgroundColor:"#dadada",height:48,width:48,borderRadius:24,margin:8},imageCover:{maxWidth:"90%",maxHeight:"100%",overflow:"hidden",marginLeft:"auto",marginRight:"auto",marginTop:8},subHeader:{color:"red",fontSize:12,marginLeft:100},amenities:{width:430,border:"1.5px solid #ababab",borderRadius:8,marginBottom:24},amenity:{marginTop:8,display:"flex",justifyContent:"center"},toggleAmenities:{fontWeight:"bold",fontSize:"1.2em",cursor:"pointer"}})(Object(T.a)(ne)),re=n(133),ie=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",username:""},n.handleChange=function(e){n.setState(Object(K.a)({},e.target.id,e.target.value))},n.submit=Object(h.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(re.a)({},n.state),e.next=3,b("users",{method:"POST",body:t});case 3:n.context.login(n.state.email,n.state.password),n.props.history.push("/");case 5:case"end":return e.stop()}},e,this)})),n}return Object(k.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this;return a.createElement(W.Consumer,null,function(t){return a.createElement("div",{className:e.props.classes.root},a.createElement("form",{className:e.props.classes.inputs},a.createElement(U.i,{id:"username",required:!0,label:"Gebruikersnaam",value:e.state.username,onChange:e.handleChange}),a.createElement(U.i,{id:"password",type:"password",required:!0,label:"Wachtwoord",value:e.state.password,onChange:e.handleChange}),a.createElement(U.i,{id:"email",required:!0,label:"Email",type:"email",autoComplete:"email",value:e.state.email,onChange:e.handleChange})),a.createElement("div",{className:e.props.classes.buttons},a.createElement(U.a,{onClick:e.submit},"OK")))})}}]),t}(a.Component);ie.contextType=W;var oe=Object(M.withStyles)({root:{margin:32,width:320},inputs:{display:"flex",flexDirection:"column"},buttons:{display:"flex",justifyContent:"flex-end",margin:"16px 0 16px 16px"}})(ie),se=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={user:void 0,login:function(){var e=Object(h.a)(d.a.mark(function e(t,a){var r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t,a);case 2:return r=e.sent,n.setState({user:r}),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),logout:function(){I(),n.setState({user:void 0})},updateUser:function(e){n.setState({user:e})}},n}return Object(k.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:(t=e.sent)&&this.setState({user:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.createElement(W.Provider,{value:this.state},a.createElement(_,{title:"AMISBnB"}),a.createElement(a.Fragment,null,a.createElement(A.a,null,a.createElement(S.a,{exact:!0,path:"/",component:J}),a.createElement(S.a,{path:"/accommodation/:id",component:ae}),a.createElement(S.a,{path:"/create",component:X}),a.createElement(S.a,{path:"/register",component:oe}),a.createElement(S.a,{component:$}))))}}]),t}(a.Component),ce=x()(),le=function(e){function t(){return Object(w.a)(this,t),Object(O.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{history:ce},r.a.createElement(se,null)))}}]),t}(a.Component),me=Object(c.createStore)(v,Object(l.composeWithDevTools)(Object(c.applyMiddleware)(m.a)));o.a.render(r.a.createElement(s.a,{store:me},r.a.createElement(le,null)),document.getElementById("root"))}},[[213,2,1]]]);
//# sourceMappingURL=main.b187ddfd.chunk.js.map